<!DOCTYPE html>
<htm>
<body>
<canvas id="example" width="1200" height="600">
This text is displayed if your browser does not support HTML5 Canvas.
</canvas>


<script type="text/JavaScript">

//Defines class line
//class lines provides the method to draw a 2 dimennsion line segment between points P1 and P2.
//P1 coordinates = x1, y1
//P2 coordinates = x2, y2
class Line {
  constructor(x1, y1, x2, y2) {
    this.x1 = x1;
    this.y1 = y1;
    this.x2 = x2;
    this.y2 = y2;
  }

  draw() {
    context.beginPath();
    context.moveTo(this.x1,this.y1);
    context.lineTo(this.x2,this.y2);
    context.stroke();
  }
}

//Class Rectangle provides the method to draw a 2 dimensional rectangle with the top left vertice positioned on x1,y2
class Rectangle{
    constructor(x1, y1, length, height) {
      this.x1 = x1;
      this.y1 = y1;
      this.length = length;
      this.height = height;
    }

    draw(){
        var x2 = this.x1 + this.length;
        var y2 = this.y1 + this.height;

        var side1 = new Line(this.x1,this.y1, x2,this.y1);
        side1.draw();

        var side2 = new Line(x2,this.y1, x2,y2);
        side2.draw();

        var side3 = new Line(x2,y2, this.x1,y2);
        side3.draw();

        var side4 = new Line(this.x1,y2,this.x1,this.y1);
        side4.draw();
    }

}

//selects random colors
function get_random_color() {
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.round(Math.random() * 15)];
    }
    return color;
}

//draws a circle centered at x,y and with radius = radius
function drawCircle(x,y,radius,color)
{
  //defines filling color
  context.fillStyle = color;

  //draws circle
  context.beginPath();
  context.arc(x,y,radius,0,2*Math.PI);

  //fills with color
  context.fill();
}

//draws a triangle
function drawTriangle(x1,y1, x2,y2, x3,y3, color)
{
  //triangle will be filled with color
  context.fillStyle = color;

  //draws lines connecting three points
  context.beginPath();
  context.moveTo(x1,y1);
  context.lineTo(x2,y2);
  context.lineTo(x3,y3);
  context.lineTo(x1,y1);
  context.stroke();

  //Fills triangle with defined color
  context.fill();
}

// draws a rectangle at x1,y1
function drawAndFillRectangle(x1,y1, length, height)
{
  //draws rectangle
  context.fillStyle = 'red';
  context.fillRect(x1, y1, length, height);
}


//connects points based on coordinated contained on x,y array
function connectDots(dots,color)
{
  // dots is array of x,y coordinates
  // color is the color to be used to color inside the polygon formed after connecting the dots
  var x, y, x1, y1, dot;

  //logs coordinates cointained on dots array for debugging
  for (let dot of dots ) {
    x = dot[0];
    y = dot[1];
    console.log(x,y);
  }

  //positions pen on first dot
  dot = dots[0];
  x1 = dot[0];
  y1 = dot[1];
  context.beginPath();
  context.moveTo(x1,y1);

  //connects all dots on array dots
  for (let dot of dots ) {
    x = dot[0];
    y = dot[1];
    context.lineTo(x,y);
  }

  //Connects last dot on array back to first dot
  context.lineTo(x1,y1);

  context.stroke();

  //Fills polygon with defined color
  //context.fill();
}

//draws multiple shapes
function drawShapes(windowWidth,windowHeight)
{
  //instantiates line object
  myLine = new Line( 10,10, 200,200);

  //draws line
  myLine.draw();

  //instantiates rectangle object
  myRectangle = new Rectangle( 50,50, 50,100);

  //draws rectangle
  myRectangle.draw();

  //Draws circle
  //selects random center
  var x=Math.floor((Math.random()*windowWidth)+1);
  var y=Math.floor((Math.random()*windowHeight)+1);

  //selects random radius
  var radius=Math.floor((Math.random()*windowHeight)/2);

  //selects random color
  var color=get_random_color();

  drawCircle(x,y,radius,color);

  //selects three random points and a random color and draws a triangle
  var x1=Math.floor((Math.random()*windowWidth)+1);
  var y1=Math.floor((Math.random()*windowHeight)+1);
  var x2=Math.floor((Math.random()*windowWidth)+1);
  var y2=Math.floor((Math.random()*windowHeight)+1);
  var x3=Math.floor((Math.random()*windowWidth)+1);
  var y3=Math.floor((Math.random()*windowHeight)+1);

  var color=get_random_color();

  drawTriangle(x1,y1, x2,y2, x3,y3, color);
}

/************** Main Routine ************/
//defines context according to screen size
var example = document.getElementById('example');
var context = example.getContext('2d');
context.canvas.width  = window.innerWidth;
context.canvas.height = window.innerHeight;

//Triggers the drawShapes function and keeps drawing for a set interval
//var myVar=setInterval(function(){drawShapes(context.canvas.width,context.canvas.height)},240);

var i, x, y, dot, arr;
var arr = [];

//creates an array with 5000 random x,y coordinates to test the connectDots Routine
for (i=0; i<100; i++)
{
  var x=Math.floor((Math.random()*context.canvas.width)+1);
  var y=Math.floor((Math.random()*context.canvas.height)+1);

  dot = [x,y];
  arr.push (dot);
}

connectDots(arr,5);

</script>
</body>
</html>
